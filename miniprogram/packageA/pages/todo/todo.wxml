<view class="container">
    <!-- 标题栏（含日期和历史按钮） -->
    <view class="header">
        <view class="header-left">
            <view class="title">今日待办</view>
            <view class="date">{{currentDate}}</view>
        </view>
        <button class="history-btn" bindtap="goToHistory">
            历史
        </button>
    </view>

    <!-- 添加任务区域 -->
    <view class="add-todo">
        <input type="text" placeholder="请输入今日任务..." bindinput="onInput" value="{{inputValue}}" />
        <button bindtap="addTodo">添加</button>
    </view>

    <!-- 任务列表区域 -->
    <view class="todo-list">
        <view class="empty" wx:if="{{todoList.length === 0}}">
            暂无任务，开始添加吧~
        </view>

        <view class="todo-item" wx:for="{{todoList}}" wx:key="index">
            <view class="checkbox" bindtap="toggleComplete" data-index="{{index}}"
                style="{{item.completed ? 'background:#8baa92' : ''}}">
                <text wx:if="{{item.completed}}">✓</text>
            </view>

            <view class="todo-text" style="{{item.completed ? 'text-decoration:line-through;color:#999' : ''}}">
                {{item.content}}
            </view>

            <button class="delete-btn" bindtap="deleteTodo" data-index="{{index}}">
                删除
            </button>
        </view>
    </view>
</view>