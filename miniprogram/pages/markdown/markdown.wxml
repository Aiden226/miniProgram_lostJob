<view class="container">
  <!-- 顶部操作栏 -->
  <view class="header">
    <button class="select-btn" bindtap="chooseMdFile">选择MD文件</button>
    <switch 
      class="mode-switch" 
      checked="{{isEditMode}}" 
      bindchange="switchMode"
      color="#07c160"
    />
    <text class="mode-text">{{isEditMode ? '编辑模式' : '预览模式'}}</text>
  </view>

  <!-- 内容区域 -->
  <view class="content-area">
    <!-- 编辑模式：文本框 -->
    <textarea 
      wx:if="{{isEditMode && mdContent}}"
      class="edit-textarea"
      value="{{mdContent}}"
      bindinput="onMdContentChange"
      placeholder="请输入MD内容..."
      auto-height="{{false}}"
    />

    <!-- 预览模式：原生MD渲染（rich-text） -->
    <view wx:elif="{{!isEditMode && htmlContent}}" class="preview-area">
      <rich-text nodes="{{htmlContent}}" class="md-preview"></rich-text>
    </view>

    <!-- 空状态提示 -->
    <view wx:else class="empty-tip">
      <text>请选择MD文件或输入MD内容</text>
    </view>
  </view>
</view>